<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Jukebox</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-text-center">
  <ion-row class="ion-justify-content-center fade-in">
    <ion-col>
      <div class="jukebox text-center bg-dark">
        <h1>Jukebox</h1>
        <div class="d-md-flex justify-content-center">
          <div class="ml-md-auto">
            <img src="../../../assets/music-beidou.png" width="200" height="200" class="img-fluid">
          </div>
          <div class="align-self-center" style="margin-bottom: 20px;">
            <button (click)="previous()" class="navigation-button mb-md-2 controls">Précédent</button>
            <button (click)="next()" class="navigation-button mb-md-2 controls">Suivant</button><br/><br/>
            <button (click)="seekBackward()" class="navigation-button mb-md-2 controls">⏪</button>
            <button (click)="pause()" *ngIf="!isPaused" class="navigation-button controls">❚❚</button>
            <button (click)="pause()" *ngIf="isPaused" class="navigation-button controls">⏵</button>
            <button (click)="seekForward()" class="navigation-button mb-md-2 controls">⏩</button>
          </div>
        </div>
        {{nameCurrentTrack}}
        <div class="navigation-buttons text-center" style="margin-bottom: 40px;">
          <span>{{ currentTime }}</span>/<span>{{ getTotalDuration() }}</span>
        </div>
        <ion-row class="ion-justify-content-center">
          <ion-col size-md="6">
          <ion-progress-bar style="height: 8px;" color="skyblue" [value]="progress / 100" class="ion-text-center"></ion-progress-bar>
          </ion-col>
        </ion-row>     
        <hr>
        <ion-row class="ion-justify-content-center">
          <ion-col size-md="6">
              <ion-list style="height: 250px; overflow-y: auto;">
                <ng-container *ngFor="let track of audioLinks">
                  <button style="margin-bottom: 10px;" (click)="changeTrack(track.id)" class="track-button btn-block btn-secondary"
                    [ngClass]="{'active': currentTrack === track.id}">{{ track.titre }}</button>
                </ng-container>
              </ion-list>
          </ion-col>
        </ion-row>
      </div>
    </ion-col>
  </ion-row>
  
    <div class="jukebox" style="display: none;">
      <h2>Jukebox</h2>
      <youtube-player #player [videoId]="currentTrack" [height]="500" [width]="500"
        suggestedQuality="highres"></youtube-player>
    </div>
</ion-content>
